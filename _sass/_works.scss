/*****************/
/*	_works.css
/*****************/
section.page-view {
	&.page-view#works-list {
		height: 100%; position: relative;
		.handle {
			position: absolute; top: 0; left: 0; width: 100%; height: 100%; cursor: url(/assets/gfx/cursor/drag.png) 13 2,ew-resize;

			article {
				display: inline; float: left; width: 100%; height: 100%; position: relative; overflow: hidden; @include crossproperty('perspective', '1000px');
				.background {
					position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; overflow: hidden;
					img {
						position: absolute; z-index: 1; left: 50%; top: 50%; display: block; @include opacity(.4); @include crossproperty('transform', 'scale(1.1) translate3d(0, -50px, 0) rotateX(-5deg)'); @include transition(transform 0s $default-transition-easing, opacity 0s $default-transition-easing);
					}
				}
				.content {
					position: relative; top: 0; left: 0; width: 100%; height: 100%; z-index: 2;
					h1 {
						@include transition(opacity 1.5s $default-transition-easing, transform 1.5s $default-transition-easing, color 1.5s $default-transition-easing, top 1.5s $default-transition-easing, font 1.5s $default-transition-easing, line-height 1.5s $default-transition-easing); @include opacity(0); @include crossproperty('transform', 'translateY(-50px)'); position: absolute; top: 15%; left: 0; text-align: center; width: 100%; z-index: 10; margin: 0;
						
						// BP SMALL
						@include bp-small {
							font-size: 4em; top: 20%;
						}

						&:after {
							@include transition(width 2s $default-transition-easing, margin 2s $default-transition-easing, top 2s $default-transition-easing); position: absolute; top: 110%; left: 50%; width: 0; height: 2px; margin-left: 0; background: $color-global-red; content: " "; display: block;
						}
					}
					h2 {
						@include transition(opacity 1.5s $default-transition-easing, transform 1.5s $default-transition-easing, color 1.5s $default-transition-easing); @include opacity(0); @include crossproperty('transform', 'translateY(-40px)'); @include crossproperty('transition-delay', .2s); font-weight: normal; font-size: 2em; text-transform: none; position: absolute; top: 35%; left: 0; text-align: center; width: 100%; margin: 0;
					}
					.btn {
						@include transition(opacity 1.5s $default-transition-easing, transform 1.5s $default-transition-easing); @include opacity(0); @include crossproperty('transform', 'translateY(-50px)'); @include crossproperty('transition-delay', .3s); position: absolute; top: 55%; left: 0; text-align: center; width: 100%; margin: 0;
						a {
							@extend %btn;
						}
					}
					.detail {
						position: relative; z-index: 9; background: $color-global-white; width: 100%; height: 100%; margin: 0; top: 100%; @include transition(margin 1.5s $default-transition-easing, top 1.5s $default-transition-easing, transform 1.5s $default-transition-easing); min-height: 500px; color: $color-global-black;
						@include crossproperty('transform', 'scale(1.1) translate3d(0, 50px, 0) rotateX(-45deg)');
						.wrapper {
							width: 100%; height: 100%; position: absolute; z-index: 11; @include crossproperty('transform', 'translateZ(0)'); @include crossproperty('user-select', 'none'); @include crossproperty('text-size-adjust', 'none'); @include crossproperty('touch-callout', 'none');
							.scroller {
								width: $wrapper-width*.7; padding: 250px 0 4em; margin: 0 auto; text-align: left;

								// BP MEDIUM
								@include bp-medium {
									width: 580px;
								}

								// BP SMALL
								@include bp-small {
									width: 300px; padding: 240px 0 4em;
								}

								.row {
									@include opacity(0); @include crossproperty('transform-origin', '50% 0px 0px'); @include crossproperty('transform', 'translate3d(0, 250px, 0) rotateX(-20deg)'); @include transition(transform 1s $default-transition-easing, opacity 1s $default-transition-easing);
									&.show {
										@include opacity(1); @include crossproperty('transform', 'translate3d(0, 0, 0) rotateX(0deg)');
									}
								}
								#detail-slide {
									position: relative; height: 400px; margin: 1em 0 2em; zoom: 1; cursor: url(/assets/gfx/cursor/drag.png) 13 2,ew-resize;

									// BP SMALL
									@include bp-small {
										height: 190px;
									}

									&:before,
									&:after { clear: both; content: ""; display: table; }

									.handle {
										&.single {
											width: 100% !important;
											.media {
												&.active {
													width: 100% !important;
												}
											}
										}
										.media {
											display: inline; float: left; width: 100%; height: 100%; position: relative; @include crossproperty('perspective', '1000px');
											img {
												display: block; margin: 0 auto; @include opacity(.7); @include transition('opacity, transform', .5s);

												// BP MEDIUM
												@include bp-medium {
													width: 580px;
												}

												// BP SMALL
												@include bp-small {
													width: 300px;
												}
											}
											&.active {
												img {
													@include crossproperty('transform', 'scale(1)'); @include opacity(1);
												}
											}
										}
									}
								}
								.lnk-project {
									a {
										line-height: 18px; padding: 0 0 0 25px; font-size: .8em;
										svg {
											max-width: 18px; max-height: 18px; width: 18px; height: 18px; color: $color-global-red; fill: $color-global-red; position: absolute; top: 0; left: 0; z-index: 2; @include transition(opacity .8s $default-transition-easing);
										}
										&:hover {
											svg {
												@include opacity(.7);
											}
										}
									}
								}
							}
						}
					}
					.btn-close {
						position: absolute; z-index: 12; top: 175px; left: 50%; margin: 0 0 0 -15px; @include opacity(0); @include transition(opacity .5s $default-transition-easing, top .5s $default-transition-easing);
						a {
							display: none; position: relative; width: 30px; height: 30px; background-color: $color-global-red; font-size: 0px; -webkit-touch-callout: none; @include crossproperty('user-select', 'none'); @include transition(background-color .5s $default-transition-easing, transform .5s $default-transition-easing);
							&:before,
							&:after {
								position: absolute; top: 50%; left: 50%; width: 100%; height: 2px; background: #fff; content: ''; margin: -1px 0 0 -50%; @include transition(transform .5s $default-transition-easing, background-color .5s $default-transition-easing);
							}
							&:before {
								@include crossproperty('transform', 'translateY(0) rotate(-45deg)');
							}
							&:after {
								@include crossproperty('transform', 'translateY(0) rotate(45deg)');
							}
							&:hover {
								@include crossproperty('transform', 'scale(1.2)');
							}
						}
					}
				}
				&.from-right {
					.background {
						img {
							@include crossproperty('transform', 'scale(1.1) translate3d(50px, -50px, 0) rotateX(-5deg)');
						}
					}
				}
				&.from-left {
					.background {
						img {
							@include crossproperty('transform', 'scale(1.1) translate3d(-50px, -50px, 0) rotateX(-5deg)');
						}
					}
				}
				&.selected {
					.background {
						img {
							@include opacity(.7); @include crossproperty('transform', 'scale(1) translate3d(0, 0, 0) rotateX(0deg)'); @include transition(transform 3s $default-transition-easing, opacity 3s $default-transition-easing);
						}
					}
					.content {
						h1 {
							@include opacity(1); @include crossproperty('transform', 'translateY(0)');
							&:after {
								width: 10%; margin-left: -5%;
							}
						}
						h2 {
							@include opacity(1); @include crossproperty('transform', 'translateY(0)');
						}
						.btn {
							@include opacity(1); @include crossproperty('transform', 'translateY(0)');
						}
					}
				}
				&.opened {
					.background {
						img {
							@include opacity(0); @include crossproperty('transform', 'scale(.8)');
						}
					}
					.content {
						h1 {
							color: $color-global-black; top: 10%;
							@include crossproperty('transition-duration', .5s);
							&.goaway {
								@include crossproperty('transition-delay', 0); top: 0; background-color: $color-global-white; font-size: 2em; line-height: 2em;
								&:after {
									top: 100%;
								}
							}

							// BP SMALL
							@include bp-small {
								top: 80px;
							}
						}

						h2,
						.btn {
							@include opacity(0); @include crossproperty('transform', 'translateY(-50px)');
						}

						.detail {
							top: 0; @include crossproperty('transform', 'scale(1) translate3d(0, 0, 0) rotateX(0deg)');
						}

						.btn-close {
							display: block; @include opacity(1);

							// BP SMALL
							@include bp-small {
								top: 155px;
							}

							&.goaway {
								top: 50px;

								// BP SMALL
								@include bp-small {
									top: 40px;
								}
							}
							a {
								display: block;
							}
						}
					}
				}
			}
		}
	}
}